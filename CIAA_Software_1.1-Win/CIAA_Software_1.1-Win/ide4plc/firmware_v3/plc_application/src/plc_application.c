/* Copyright 2019, Eric Nicolás Pernia * All rights reserved. * * This file is part of CIAA Firmware. * * Redistribution and use in source and binary forms, with or without * modification, are permitted provided that the following conditions are met: * * 1. Redistributions of source code must retain the above copyright notice, *    this list of conditions and the following disclaimer. * * 2. Redistributions in binary form must reproduce the above copyright notice, *    this list of conditions and the following disclaimer in the documentation *    and/or other materials provided with the distribution. * * 3. Neither the name of the copyright holder nor the names of its *    contributors may be used to endorse or promote products derived from this *    software without specific prior written permission. * * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE * POSSIBILITY OF SUCH DAMAGE. * */ /* ------------------------------------------------------------ * plc_application.c * * Created on: 2019-10-11T09:49:09.315211-03:00 *  * This file is generated automatically by IDE4PLC. *   IDE4PLC website: http://ide4plc.wordpress.com/ *   IDE4PLC e-mail: http://ide4plc.gmail.com  * -----------------------------------------------------------*//** \brief PLC Application source file ** ** This is the PLC Application source ** **//** \addtogroup CIAA_Firmware CIAA Firmware ** @{ *//** \addtogroup PLC PLC Module ** @{ *//** \addtogroup PLC_Application PLC Application file ** @{ *//*==================[inclusions]=============================================*/#include "plc_application.h"#include "sapi.h"/*==================[macros and definitions]=================================*//*==================[internal data declaration]==============================*//*==================[internal functions declaration]=========================*//*==================[internal data definition]===============================*//*==================[external data definition]===============================*//*==================[internal functions definition]==========================*//*==================[external functions definition]==========================*//** \brief Main function * * This is the main entry point of the software. * * \returns 0 * * \remarks This function never returns. Return value is only to avoid compiler *          warnings or errors. */int main( void ){   // ---------- CONFIGURACIONES ------------------------------   InitTask();   // FUNCION que inicializa el planificador de tareas   schedulerInit();   // Se agrega la tarea tarea1 al planificador   schedulerAddTask( PLC_SystemTask, // funcion de tarea a agregar                     0,              // parametro de la tarea                     0,              // offset de ejecucion en ticks                     10              // periodicidad de ejecucion en ticks                   );   schedulerAddTask( PeriodicTask, // funcion de tarea a agregar                     0,            // parametro de la tarea                     1,            // offset de ejecucion en ticks                     10            // periodicidad de ejecucion en ticks                   );   // FUNCION que inicializa la interrupcion que ejecuta el planificador de   // tareas con tick cada 1ms.   schedulerStart( 1 );   // ---------- REPETIR POR SIEMPRE --------------------------   while( TRUE )   {      // Se despachan (ejecutan) las tareas marcadas para su ejecucion.      // Luego se pone el sistema en bajo consumo hasta que ocurra la      // proxima interrupcion, en este caso la de Tick.      // Al ocurrir la interrupcion de Tick se ejecutara el planificador      // que revisa cuales son las tareas a marcar para su ejecucion.      schedulerDispatchTasks();   }   // NO DEBE LLEGAR NUNCA AQUI, debido a que a este programa se ejecuta   // directamenteno sobre un microcontroladore y no es llamado por ningun   // Sistema Operativo, como en el caso de un programa para PC.   return 0;}/** @} doxygen end group definition *//** @} doxygen end group definition *//** @} doxygen end group definition *//*==================[end of file]============================================*/